<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emotion-Based Music Player</title>
  <!-- Load FontAwesome icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

  <!-- Load the custom CSS style file -->
  <link rel="stylesheet" type="text/css" href="style.css">
  
  <!-- Open Graph meta tags for better social sharing -->
  <meta property="og:title" content="Emotion-Based Music Player">
  <meta property="og:description" content="A music player that detects your mood from facial expressions and plays matching music.">
  <meta property="og:image" content="assets/images/preview.jpg">
  
  <!-- Face API library for facial expression detection -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/face-api.js/0.22.2/face-api.min.js"></script>
</head>
<body>
  <div class="player">
    <!-- Page title -->
    <h1 class="title">Emotion-Based Music Player</h1>
    
    <!-- Error messages container -->
    <div id="error-container"></div>
    
    <!-- New Search Section -->
    <div class="search-section">
      <div class="search-container">
        <input type="text" id="search-input" placeholder="Search for songs or moods...">
        <button id="search-btn"><i class="fa fa-search"></i></button>
      </div>
      <div class="webcam-container">
        <button id="webcam-btn" title="Search by facial expression"><i class="fa fa-camera"></i></button>
        <div id="webcam-modal" class="modal">
          <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3>Facial Expression Search</h3>
            <div id="webcam-wrapper">
              <video id="webcam" autoplay playsinline></video>
              <canvas id="canvas" style="display: none;"></canvas>
            </div>
            <div class="webcam-controls">
              <button id="capture-btn">Capture Expression</button>
              <button id="search-expression-btn" disabled>Search</button>
            </div>
            <div id="expression-result"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="details">
      <div class="now-playing">PLAYING x OF y</div>
      <div class="track-art"></div>
      <div class="track-name">Track Name</div>
      <div class="track-artist">Track Artist</div>
    </div>
    <div class="buttons">
      <div class="prev-track" onclick="prevTrack()"><i class="fa fa-step-backward fa-2x"></i></div>
      <div class="playpause-track" onclick="playpauseTrack()"><i class="fa fa-play-circle fa-5x"></i></div>
      <div class="next-track" onclick="nextTrack()"><i class="fa fa-step-forward fa-2x"></i></div>
    </div>
    <div class="slider_container">
      <div class="current-time">00:00</div>
      <input type="range" min="1" max="100" value="0" class="seek_slider" onchange="seekTo()">
      <div class="total-duration">00:00</div>
    </div>
    <div class="slider_container">
      <i class="fa fa-volume-down"></i>
      <input type="range" min="1" max="100" value="99" class="volume_slider" onchange="setVolume()">
      <i class="fa fa-volume-up"></i>
    </div>
    
    <!-- Reshuffle button -->
    <div class="reshuffle-container">
      <button id="reshuffle-btn" onclick="reshuffleTracks()"><i class="fa fa-random"></i> Reshuffle</button>
    </div>
    
    <!-- Footer -->
    <footer>
      <p>Created by [Your Name] | <a href="https://github.com/yourusername/Emotion-Based-Music-Player" target="_blank">View on GitHub</a></p>
    </footer>
  </div>

  <!-- Load the main script for the player -->
  <script src="main.js"></script>
  <script src="webcam.js"></script>
</body>
</html>